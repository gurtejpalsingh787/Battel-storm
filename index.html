<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle Storm - Epic Multiplayer Battle Royale</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Orbitron', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }
        
        .game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        #gameCanvas {
            background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460);
            cursor: crosshair;
        }
        
        .hud {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }
        
        .hud > * {
            pointer-events: auto;
        }
        
        .health-bar {
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e);
            transition: width 0.3s ease;
        }
        
        .armor-bar {
            background: linear-gradient(90deg, #4ecdc4, #45b7b8);
            transition: width 0.3s ease;
        }
        
        .zone-timer {
            background: rgba(255, 107, 107, 0.9);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 0.5; }
        }
        
        .weapon-slot {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid #4a5568;
            transition: all 0.3s ease;
        }
        
        .weapon-slot.active {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.2);
        }
        
        .mini-map {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #4a5568;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #4ecdc4, #45b7b8);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(78, 205, 196, 0.3);
        }
        
        .modal {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
        }
        
        .currency {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #333;
            font-weight: bold;
        }
        
        .xp-bar {
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
        }
        
        .character-card {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            transition: all 0.3s ease;
        }
        
        .character-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(52, 152, 219, 0.3);
        }
        
        .weapon-card {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            transition: all 0.3s ease;
        }
        
        .weapon-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .kill-feed {
            background: rgba(0, 0, 0, 0.7);
            max-height: 200px;
            overflow-y: auto;
        }
        
        .kill-notification {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid #ffd700;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .battle-pass-item {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            transition: all 0.3s ease;
        }
        
        .battle-pass-item.unlocked {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #333;
        }
        
        .shop-item {
            background: linear-gradient(135deg, #2c3e50, #4a6741);
            transition: all 0.3s ease;
        }
        
        .shop-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .leaderboard-item {
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .leaderboard-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .rank-badge {
            background: linear-gradient(45deg, #ff6b6b, #ffd700);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Game Canvas -->
        <canvas id="gameCanvas" width="1920" height="1080"></canvas>
        
        <!-- Game HUD -->
        <div class="hud">
            <!-- Top Bar -->
            <div class="absolute top-0 left-0 right-0 p-4 flex justify-between items-start">
                <!-- Player Info -->
                <div class="bg-black bg-opacity-50 rounded-lg p-3 text-white">
                    <div class="flex items-center space-x-4">
                        <div class="text-sm">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-heart text-red-500"></i>
                                <div class="w-24 h-2 bg-gray-700 rounded-full">
                                    <div id="healthBar" class="health-bar h-full rounded-full" style="width: 100%;"></div>
                                </div>
                                <span id="healthText">100</span>
                            </div>
                            <div class="flex items-center space-x-2 mt-1">
                                <i class="fas fa-shield-alt text-blue-500"></i>
                                <div class="w-24 h-2 bg-gray-700 rounded-full">
                                    <div id="armorBar" class="armor-bar h-full rounded-full" style="width: 75%;"></div>
                                </div>
                                <span id="armorText">75</span>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-300">Kills</div>
                            <div id="killCount" class="text-xl font-bold text-yellow-400">0</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-300">Alive</div>
                            <div id="aliveCount" class="text-xl font-bold text-green-400">47</div>
                        </div>
                    </div>
                </div>
                
                <!-- Zone Timer -->
                <div id="zoneTimer" class="zone-timer text-white px-4 py-2 rounded-lg text-center">
                    <div class="text-xs">Zone Closing In</div>
                    <div id="zoneTime" class="text-2xl font-bold">2:45</div>
                </div>
                
                <!-- Currency -->
                <div class="bg-black bg-opacity-50 rounded-lg p-3 text-white">
                    <div class="flex items-center space-x-4">
                        <div class="currency px-2 py-1 rounded text-sm">
                            <i class="fas fa-gem"></i> <span id="diamonds">1,250</span>
                        </div>
                        <div class="bg-yellow-600 px-2 py-1 rounded text-sm">
                            <i class="fas fa-coins"></i> <span id="coins">15,680</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Kill Feed -->
            <div id="killFeed" class="kill-feed absolute top-20 right-4 w-80 p-2 rounded text-white text-sm">
                <!-- Kill notifications will appear here -->
            </div>
            
            <!-- Mini Map -->
            <div class="mini-map absolute top-4 right-4 w-48 h-48 rounded-lg">
                <canvas id="miniMapCanvas" width="192" height="192" class="w-full h-full rounded-lg"></canvas>
            </div>
            
            <!-- Bottom HUD -->
            <div class="absolute bottom-0 left-0 right-0 p-4">
                <div class="flex justify-between items-end">
                    <!-- Inventory -->
                    <div class="flex space-x-2">
                        <div id="weapon1" class="weapon-slot active w-16 h-16 rounded-lg flex items-center justify-center">
                            <i class="fas fa-gun text-2xl text-gray-400"></i>
                        </div>
                        <div id="weapon2" class="weapon-slot w-16 h-16 rounded-lg flex items-center justify-center">
                            <i class="fas fa-crosshairs text-2xl text-gray-400"></i>
                        </div>
                        <div class="weapon-slot w-16 h-16 rounded-lg flex items-center justify-center">
                            <i class="fas fa-first-aid text-2xl text-green-400"></i>
                        </div>
                        <div class="weapon-slot w-16 h-16 rounded-lg flex items-center justify-center">
                            <i class="fas fa-shield-alt text-2xl text-blue-400"></i>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex space-x-2">
                        <button id="reloadBtn" class="btn-primary text-white px-6 py-3 rounded-lg font-bold">
                            <i class="fas fa-sync-alt"></i> RELOAD
                        </button>
                        <button id="useBtn" class="btn-secondary text-white px-6 py-3 rounded-lg font-bold">
                            <i class="fas fa-hand-paper"></i> USE
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Game Menu Button -->
            <button id="menuBtn" class="absolute top-4 left-4 bg-black bg-opacity-50 text-white p-3 rounded-lg hover:bg-opacity-70">
                <i class="fas fa-bars text-xl"></i>
            </button>
        </div>
        
        <!-- Main Menu -->
        <div id="mainMenu" class="modal fixed inset-0 flex items-center justify-center z-50">
            <div class="bg-gray-900 bg-opacity-95 p-8 rounded-2xl max-w-6xl w-full m-4 text-white">
                <div class="text-center mb-8">
                    <h1 class="text-6xl font-bold bg-gradient-to-r from-yellow-400 to-red-500 bg-clip-text text-transparent">
                        BATTLE STORM
                    </h1>
                    <p class="text-xl text-gray-300 mt-2">Epic Multiplayer Battle Royale</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <button id="playBtn" class="btn-primary text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-play text-3xl mb-2"></i>
                        <div>PLAY NOW</div>
                    </button>
                    <button id="charactersBtn" class="btn-secondary text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-user-ninja text-3xl mb-2"></i>
                        <div>CHARACTERS</div>
                    </button>
                    <button id="shopBtn" class="bg-purple-600 hover:bg-purple-700 text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-shopping-cart text-3xl mb-2"></i>
                        <div>SHOP</div>
                    </button>
                    <button id="battlePassBtn" class="bg-orange-600 hover:bg-orange-700 text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-trophy text-3xl mb-2"></i>
                        <div>BATTLE PASS</div>
                    </button>
                    <button id="leaderboardBtn" class="bg-green-600 hover:bg-green-700 text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-crown text-3xl mb-2"></i>
                        <div>LEADERBOARD</div>
                    </button>
                    <button id="settingsBtn" class="bg-gray-600 hover:bg-gray-700 text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-cog text-3xl mb-2"></i>
                        <div>SETTINGS</div>
                    </button>
                    <button id="inventoryBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-backpack text-3xl mb-2"></i>
                        <div>INVENTORY</div>
                    </button>
                    <button id="achievementsBtn" class="bg-yellow-600 hover:bg-yellow-700 text-white p-6 rounded-lg font-bold text-xl">
                        <i class="fas fa-medal text-3xl mb-2"></i>
                        <div>ACHIEVEMENTS</div>
                    </button>
                </div>
                
                <!-- Player Stats -->
                <div class="mt-8 bg-gray-800 rounded-lg p-6">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="text-xl font-bold">Commander Phoenix</h3>
                            <div class="flex items-center space-x-2 mt-2">
                                <span class="rank-badge text-lg font-bold">DIAMOND III</span>
                                <div class="w-32 h-2 bg-gray-700 rounded-full">
                                    <div class="xp-bar h-full rounded-full" style="width: 67%;"></div>
                                </div>
                                <span class="text-sm text-gray-300">6,700 / 10,000 XP</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold text-yellow-400">156</div>
                            <div class="text-sm text-gray-300">Total Wins</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Character Selection Modal -->
        <div id="characterModal" class="modal fixed inset-0 hidden items-center justify-center z-50">
            <div class="bg-gray-900 bg-opacity-95 p-8 rounded-2xl max-w-6xl w-full m-4 text-white">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold">Select Character</h2>
                    <button id="closeCharacterModal" class="text-gray-400 hover:text-white text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="character-card p-6 rounded-lg text-center">
                        <div class="text-6xl mb-4">⚡</div>
                        <h3 class="text-xl font-bold mb-2">Lightning Strike</h3>
                        <p class="text-sm text-gray-300 mb-4">Increases movement speed by 15% and reduces reload time</p>
                        <div class="text-yellow-400 font-bold">UNLOCKED</div>
                    </div>
                    
                    <div class="character-card p-6 rounded-lg text-center">
                        <div class="text-6xl mb-4">🛡️</div>
                        <h3 class="text-xl font-bold mb-2">Iron Guardian</h3>
                        <p class="text-sm text-gray-300 mb-4">Starts with additional armor and reduced damage from explosives</p>
                        <div class="text-yellow-400 font-bold">UNLOCKED</div>
                    </div>
                    
                    <div class="character-card p-6 rounded-lg text-center">
                        <div class="text-6xl mb-4">🎯</div>
                        <h3 class="text-xl font-bold mb-2">Sniper Elite</h3>
                        <p class="text-sm text-gray-300 mb-4">Enhanced accuracy and 20% more damage with scoped weapons</p>
                        <div class="text-red-400 font-bold">🔒 500 DIAMONDS</div>
                    </div>
                    
                    <div class="character-card p-6 rounded-lg text-center">
                        <div class="text-6xl mb-4">💊</div>
                        <h3 class="text-xl font-bold mb-2">Field Medic</h3>
                        <p class="text-sm text-gray-300 mb-4">Faster healing and can revive teammates with bonus health</p>
                        <div class="text-yellow-400 font-bold">UNLOCKED</div>
                    </div>
                    
                    <div class="character-card p-6 rounded-lg text-center">
                        <div class="text-6xl mb-4">🔥</div>
                        <h3 class="text-xl font-bold mb-2">Pyro Specialist</h3>
                        <p class="text-sm text-gray-300 mb-4">Explosive damage +25% and immunity to fire damage</p>
                        <div class="text-red-400 font-bold">🔒 750 DIAMONDS</div>
                    </div>
                    
                    <div class="character-card p-6 rounded-lg text-center">
                        <div class="text-6xl mb-4">👥</div>
                        <h3 class="text-xl font-bold mb-2">Team Leader</h3>
                        <p class="text-sm text-gray-300 mb-4">Provides team buffs and can see enemy positions longer</p>
                        <div class="text-red-400 font-bold">🔒 1000 DIAMONDS</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Shop Modal -->
        <div id="shopModal" class="modal fixed inset-0 hidden items-center justify-center z-50">
            <div class="bg-gray-900 bg-opacity-95 p-8 rounded-2xl max-w-6xl w-full m-4 text-white">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold">Battle Shop</h2>
                    <button id="closeShopModal" class="text-gray-400 hover:text-white text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="shop-item p-6 rounded-lg">
                        <div class="text-4xl mb-4">🔫</div>
                        <h3 class="text-xl font-bold mb-2">Dragon Breath AK</h3>
                        <p class="text-sm text-gray-300 mb-4">Legendary weapon skin with fire effects</p>
                        <div class="flex justify-between items-center">
                            <span class="currency px-3 py-1 rounded">💎 899</span>
                            <button class="btn-primary px-4 py-2 rounded">BUY</button>
                        </div>
                    </div>
                    
                    <div class="shop-item p-6 rounded-lg">
                        <div class="text-4xl mb-4">👕</div>
                        <h3 class="text-xl font-bold mb-2">Cyber Suit</h3>
                        <p class="text-sm text-gray-300 mb-4">Futuristic outfit with glowing accents</p>
                        <div class="flex justify-between items-center">
                            <span class="currency px-3 py-1 rounded">💎 1,299</span>
                            <button class="btn-primary px-4 py-2 rounded">BUY</button>
                        </div>
                    </div>
                    
                    <div class="shop-item p-6 rounded-lg">
                        <div class="text-4xl mb-4">🎒</div>
                        <h3 class="text-xl font-bold mb-2">Victory Emote Pack</h3>
                        <p class="text-sm text-gray-300 mb-4">5 exclusive celebration emotes</p>
                        <div class="flex justify-between items-center">
                            <span class="currency px-3 py-1 rounded">💎 599</span>
                            <button class="btn-primary px-4 py-2 rounded">BUY</button>
                        </div>
                    </div>
                    
                    <div class="shop-item p-6 rounded-lg">
                        <div class="text-4xl mb-4">🚁</div>
                        <h3 class="text-xl font-bold mb-2">Golden Helicopter</h3>
                        <p class="text-sm text-gray-300 mb-4">Luxurious vehicle skin with golden finish</p>
                        <div class="flex justify-between items-center">
                            <span class="currency px-3 py-1 rounded">💎 2,499</span>
                            <button class="btn-primary px-4 py-2 rounded">BUY</button>
                        </div>
                    </div>
                    
                    <div class="shop-item p-6 rounded-lg">
                        <div class="text-4xl mb-4">💎</div>
                        <h3 class="text-xl font-bold mb-2">Diamond Pack</h3>
                        <p class="text-sm text-gray-300 mb-4">5,000 Diamonds + 500 Bonus</p>
                        <div class="flex justify-between items-center">
                            <span class="bg-green-600 text-white px-3 py-1 rounded">$49.99</span>
                            <button class="btn-secondary px-4 py-2 rounded">PURCHASE</button>
                        </div>
                    </div>
                    
                    <div class="shop-item p-6 rounded-lg">
                        <div class="text-4xl mb-4">⚔️</div>
                        <h3 class="text-xl font-bold mb-2">Battle Pass</h3>
                        <p class="text-sm text-gray-300 mb-4">Season 12 Premium Battle Pass</p>
                        <div class="flex justify-between items-center">
                            <span class="currency px-3 py-1 rounded">💎 950</span>
                            <button class="btn-primary px-4 py-2 rounded">BUY</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Battle Pass Modal -->
        <div id="battlePassModal" class="modal fixed inset-0 hidden items-center justify-center z-50">
            <div class="bg-gray-900 bg-opacity-95 p-8 rounded-2xl max-w-6xl w-full m-4 text-white">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold">Season 12 Battle Pass</h2>
                    <button id="closeBattlePassModal" class="text-gray-400 hover:text-white text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="mb-6 bg-gray-800 rounded-lg p-4">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-lg font-bold">Level 23</span>
                        <span class="text-sm text-gray-300">2,300 / 5,000 XP</span>
                    </div>
                    <div class="w-full h-3 bg-gray-700 rounded-full">
                        <div class="xp-bar h-full rounded-full" style="width: 46%;"></div>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-6">
                    <div class="battle-pass-item unlocked p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">🔫</div>
                        <div class="text-xs">Level 1</div>
                        <div class="text-sm font-bold">AK Skin</div>
                    </div>
                    
                    <div class="battle-pass-item unlocked p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">💎</div>
                        <div class="text-xs">Level 5</div>
                        <div class="text-sm font-bold">100 Diamonds</div>
                    </div>
                    
                    <div class="battle-pass-item unlocked p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">👕</div>
                        <div class="text-xs">Level 10</div>
                        <div class="text-sm font-bold">Combat Gear</div>
                    </div>
                    
                    <div class="battle-pass-item unlocked p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">🎭</div>
                        <div class="text-xs">Level 15</div>
                        <div class="text-sm font-bold">Face Mask</div>
                    </div>
                    
                    <div class="battle-pass-item unlocked p-4 rounded-lg text-center">
                        <div class="text-2xl mb-2">🚗</div>
                        <div class="text-xs">Level 20</div>
                        <div class="text-sm font-bold">Car Skin</div>
                    </div>
                    
                    <div class="battle-pass-item p-4 rounded-lg text-center opacity-75">
                        <div class="text-2xl mb-2">⚔️</div>
                        <div class="text-xs">Level 25</div>
                        <div class="text-sm font-bold">Sword Skin</div>
                    </div>
                    
                    <div class="battle-pass-item p-4 rounded-lg text-center opacity-50">
                        <div class="text-2xl mb-2">🏆</div>
                        <div class="text-xs">Level 30</div>
                        <div class="text-sm font-bold">Victory Pose</div>
                    </div>
                    
                    <div class="battle-pass-item p-4 rounded-lg text-center opacity-50">
                        <div class="text-2xl mb-2">👑</div>
                        <div class="text-xs">Level 50</div>
                        <div class="text-sm font-bold">Crown</div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button class="btn-primary px-8 py-3 rounded-lg font-bold text-lg">
                        UPGRADE TO PREMIUM - 950 💎
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Leaderboard Modal -->
        <div id="leaderboardModal" class="modal fixed inset-0 hidden items-center justify-center z-50">
            <div class="bg-gray-900 bg-opacity-95 p-8 rounded-2xl max-w-4xl w-full m-4 text-white">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-bold">Global Leaderboard</h2>
                    <button id="closeLeaderboardModal" class="text-gray-400 hover:text-white text-2xl">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="space-y-3">
                    <div class="leaderboard-item p-4 rounded-lg flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="text-2xl font-bold text-yellow-400">#1</div>
                            <div class="text-3xl">👑</div>
                            <div>
                                <div class="font-bold text-lg">ProGamer2025</div>
                                <div class="text-sm text-gray-300">Diamond I • 89% Win Rate</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xl font-bold text-yellow-400">2,847</div>
                            <div class="text-sm text-gray-300">Points</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-item p-4 rounded-lg flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="text-2xl font-bold text-gray-300">#2</div>
                            <div class="text-3xl">🥈</div>
                            <div>
                                <div class="font-bold text-lg">StormMaster</div>
                                <div class="text-sm text-gray-300">Diamond II • 85% Win Rate</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xl font-bold">2,693</div>
                            <div class="text-sm text-gray-300">Points</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-item p-4 rounded-lg flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="text-2xl font-bold text-orange-400">#3</div>
                            <div class="text-3xl">🥉</div>
                            <div>
                                <div class="font-bold text-lg">NinjaElite</div>
                                <div class="text-sm text-gray-300">Diamond III • 82% Win Rate</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xl font-bold">2,541</div>
                            <div class="text-sm text-gray-300">Points</div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-item p-4 rounded-lg flex items-center justify-between bg-blue-900 bg-opacity-50">
                        <div class="flex items-center space-x-4">
                            <div class="text-2xl font-bold text-blue-400">#47</div>
                            <div class="text-3xl">⭐</div>
                            <div>
                                <div class="font-bold text-lg">Commander Phoenix (You)</div>
                                <div class="text-sm text-gray-300">Diamond III • 73% Win Rate</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xl font-bold">1,892</div>
                            <div class="text-sm text-gray-300">Points</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Loading Screen -->
        <div id="loadingScreen" class="modal fixed inset-0 hidden items-center justify-center z-50">
            <div class="text-center text-white">
                <div class="loading-spinner mx-auto mb-4"></div>
                <div class="text-xl font-bold mb-2">Finding Match...</div>
                <div id="loadingStatus" class="text-gray-300">Searching for players</div>
                <div class="mt-4">
                    <div class="text-sm text-gray-400">Estimated wait time: <span id="waitTime">0:30</span></div>
                </div>
            </div>
        </div>
        
        <!-- Game Over Modal -->
        <div id="gameOverModal" class="modal fixed inset-0 hidden items-center justify-center z-50">
            <div class="bg-gray-900 bg-opacity-95 p-8 rounded-2xl max-w-2xl w-full m-4 text-white text-center">
                <div class="text-6xl mb-4">🏆</div>
                <h2 class="text-4xl font-bold mb-4 text-yellow-400">VICTORY ROYALE!</h2>
                <div class="text-xl mb-6">Congratulations, you survived the storm!</div>
                
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <div class="grid grid-cols-2 gap-6">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-yellow-400">12</div>
                            <div class="text-sm text-gray-300">Eliminations</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-green-400">2,450</div>
                            <div class="text-sm text-gray-300">Damage Dealt</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-blue-400">18:45</div>
                            <div class="text-sm text-gray-300">Survival Time</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-purple-400">+150</div>
                            <div class="text-sm text-gray-300">XP Gained</div>
                        </div>
                    </div>
                </div>
                
                <div class="flex space-x-4 justify-center">
                    <button id="playAgainBtn" class="btn-primary px-8 py-3 rounded-lg font-bold">
                        PLAY AGAIN
                    </button>
                    <button id="backToMenuBtn" class="btn-secondary px-8 py-3 rounded-lg font-bold">
                        MAIN MENU
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Game State
        const gameState = {
            inGame: false,
            health: 100,
            armor: 75,
            kills: 0,
            alive: 47,
            diamonds: 1250,
            coins: 15680,
            zoneTime: 165, // seconds
            currentWeapon: 1,
            playerX: 960,
            playerY: 540,
            enemies: [],
            bullets: [],
            particles: [],
            zoneCenter: { x: 960, y: 540 },
            zoneRadius: 800,
            targetZoneRadius: 400,
            gameMode: 'menu'
        };
        
        // DOM Elements
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const miniMapCanvas = document.getElementById('miniMapCanvas');
        const miniMapCtx = miniMapCanvas.getContext('2d');
        
        // Resize canvas to fit screen
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // Modal Management
        const modals = ['mainMenu', 'characterModal', 'shopModal', 'battlePassModal', 'leaderboardModal', 'loadingScreen', 'gameOverModal'];
        
        function showModal(modalId) {
            hideAllModals();
            document.getElementById(modalId).classList.remove('hidden');
            document.getElementById(modalId).classList.add('flex');
        }
        
        function hideAllModals() {
            modals.forEach(modal => {
                document.getElementById(modal).classList.add('hidden');
                document.getElementById(modal).classList.remove('flex');
            });
        }
        
        // Event Listeners
        document.getElementById('playBtn').addEventListener('click', startMatchmaking);
        document.getElementById('menuBtn').addEventListener('click', () => showModal('mainMenu'));
        document.getElementById('charactersBtn').addEventListener('click', () => showModal('characterModal'));
        document.getElementById('shopBtn').addEventListener('click', () => showModal('shopModal'));
        document.getElementById('battlePassBtn').addEventListener('click', () => showModal('battlePassModal'));
        document.getElementById('leaderboardBtn').addEventListener('click', () => showModal('leaderboardModal'));
        
        // Close modal buttons
        document.getElementById('closeCharacterModal').addEventListener('click', () => showModal('mainMenu'));
        document.getElementById('closeShopModal').addEventListener('click', () => showModal('mainMenu'));
        document.getElementById('closeBattlePassModal').addEventListener('click', () => showModal('mainMenu'));
        document.getElementById('closeLeaderboardModal').addEventListener('click', () => showModal('mainMenu'));
        
        document.getElementById('playAgainBtn').addEventListener('click', startMatchmaking);
        document.getElementById('backToMenuBtn').addEventListener('click', () => {
            gameState.gameMode = 'menu';
            showModal('mainMenu');
        });
        
        // Game Functions
        function startMatchmaking() {
            showModal('loadingScreen');
            let countdown = 30;
            const loadingMessages = [
                'Searching for players',
                'Preparing battlefield',
                'Loading weapons',
                'Initializing storm system',
                'Ready to drop!'
            ];
            
            const interval = setInterval(() => {
                countdown--;
                document.getElementById('waitTime').textContent = `0:${countdown.toString().padStart(2, '0')}`;
                document.getElementById('loadingStatus').textContent = loadingMessages[Math.floor((30 - countdown) / 6)] || 'Ready to drop!';
                
                if (countdown <= 0) {
                    clearInterval(interval);
                    startGame();
                }
            }, 100);
        }
        
        function startGame() {
            hideAllModals();
            gameState.inGame = true;
            gameState.gameMode = 'playing';
            gameState.health = 100;
            gameState.armor = 75;
            gameState.kills = 0;
            gameState.alive = 47;
            gameState.zoneTime = 165;
            
            // Initialize enemies
            gameState.enemies = [];
            for (let i = 0; i < 46; i++) {
                gameState.enemies.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    health: 100,
                    alive: true
                });
            }
            
            updateHUD();
            gameLoop();
        }
        
        function updateHUD() {
            document.getElementById('healthBar').style.width = gameState.health + '%';
            document.getElementById('healthText').textContent = gameState.health;
            document.getElementById('armorBar').style.width = gameState.armor + '%';
            document.getElementById('armorText').textContent = gameState.armor;
            document.getElementById('killCount').textContent = gameState.kills;
            document.getElementById('aliveCount').textContent = gameState.alive;
            document.getElementById('diamonds').textContent = gameState.diamonds.toLocaleString();
            document.getElementById('coins').textContent = gameState.coins.toLocaleString();
            
            const minutes = Math.floor(gameState.zoneTime / 60);
            const seconds = gameState.zoneTime % 60;
            document.getElementById('zoneTime').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }
        
        function addKillFeed(killer, victim, weapon) {
            const killFeed = document.getElementById('killFeed');
            const killDiv = document.createElement('div');
            killDiv.className = 'kill-notification bg-gray-800 p-2 rounded mb-1 text-xs';
            killDiv.innerHTML = `<span class="text-yellow-400">${killer}</span> <i class="fas fa-crosshairs text-red-500"></i> <span class="text-gray-300">${victim}</span>`;
            
            killFeed.insertBefore(killDiv, killFeed.firstChild);
            
            setTimeout(() => {
                if (killDiv.parentNode) {
                    killDiv.parentNode.removeChild(killDiv);
                }
            }, 5000);
        }
        
        // Game Rendering
        function drawGame() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw background
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#1a1a2e');
            gradient.addColorStop(0.5, '#16213e');
            gradient.addColorStop(1, '#0f3460');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw zone
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 5;
            ctx.setLineDash([10, 10]);
            ctx.beginPath();
            ctx.arc(gameState.zoneCenter.x, gameState.zoneCenter.y, gameState.zoneRadius, 0, 2 * Math.PI);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Draw player
            ctx.fillStyle = '#4ecdc4';
            ctx.beginPath();
            ctx.arc(gameState.playerX, gameState.playerY, 15, 0, 2 * Math.PI);
            ctx.fill();
            
            // Draw crosshair
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2 - 20, canvas.height / 2);
            ctx.lineTo(canvas.width / 2 + 20, canvas.height / 2);
            ctx.moveTo(canvas.width / 2, canvas.height / 2 - 20);
            ctx.lineTo(canvas.width / 2, canvas.height / 2 + 20);
            ctx.stroke();
            
            // Draw enemies
            gameState.enemies.forEach(enemy => {
                if (enemy.alive) {
                    ctx.fillStyle = '#ff6b6b';
                    ctx.beginPath();
                    ctx.arc(enemy.x, enemy.y, 12, 0, 2 * Math.PI);
                    ctx.fill();
                }
            });
            
            // Draw bullets
            gameState.bullets.forEach(bullet => {
                ctx.fillStyle = '#ffd700';
                ctx.beginPath();
                ctx.arc(bullet.x, bullet.y, 3, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            // Draw particles
            gameState.particles.forEach((particle, index) => {
                ctx.fillStyle = `rgba(255, 215, 0, ${particle.alpha})`;
                ctx.beginPath();
                ctx.arc(particle.x, particle.y, particle.size, 0, 2 * Math.PI);
                ctx.fill();
                
                particle.x += particle.vx;
                particle.y += particle.vy;
                particle.alpha *= 0.95;
                particle.size *= 0.98;
                
                if (particle.alpha < 0.1) {
                    gameState.particles.splice(index, 1);
                }
            });
            
            // Draw minimap
            drawMiniMap();
        }
        
        function drawMiniMap() {
            miniMapCtx.clearRect(0, 0, 192, 192);
            
            // Background
            miniMapCtx.fillStyle = '#1a1a2e';
            miniMapCtx.fillRect(0, 0, 192, 192);
            
            // Zone
            const scale = 192 / (canvas.width > canvas.height ? canvas.width : canvas.height);
            miniMapCtx.strokeStyle = '#ff6b6b';
            miniMapCtx.lineWidth = 2;
            miniMapCtx.beginPath();
            miniMapCtx.arc(96, 96, gameState.zoneRadius * scale, 0, 2 * Math.PI);
            miniMapCtx.stroke();
            
            // Player
            miniMapCtx.fillStyle = '#4ecdc4';
            miniMapCtx.beginPath();
            miniMapCtx.arc(gameState.playerX * scale, gameState.playerY * scale, 3, 0, 2 * Math.PI);
            miniMapCtx.fill();
            
            // Enemies
            gameState.enemies.forEach(enemy => {
                if (enemy.alive) {
                    miniMapCtx.fillStyle = '#ff6b6b';
                    miniMapCtx.beginPath();
                    miniMapCtx.arc(enemy.x * scale, enemy.y * scale, 2, 0, 2 * Math.PI);
                    miniMapCtx.fill();
                }
            });
        }
        
        // Game Logic
        function updateGame() {
            if (!gameState.inGame) return;
            
            // Update zone
            gameState.zoneTime--;
            if (gameState.zoneTime <= 0) {
                gameState.zoneRadius = Math.max(gameState.targetZoneRadius, gameState.zoneRadius - 2);
                if (gameState.zoneRadius <= gameState.targetZoneRadius) {
                    gameState.zoneTime = 120;
                    gameState.targetZoneRadius = Math.max(50, gameState.targetZoneRadius * 0.7);
                }
            }
            
            // Update bullets
            gameState.bullets.forEach((bullet, index) => {
                bullet.x += bullet.vx;
                bullet.y += bullet.vy;
                
                if (bullet.x < 0 || bullet.x > canvas.width || bullet.y < 0 || bullet.y > canvas.height) {
                    gameState.bullets.splice(index, 1);
                }
            });
            
            // Simulate AI enemies
            if (Math.random() < 0.01 && gameState.alive > 1) {
                const deadEnemyIndex = gameState.enemies.findIndex(enemy => enemy.alive);
                if (deadEnemyIndex !== -1) {
                    gameState.enemies[deadEnemyIndex].alive = false;
                    gameState.alive--;
                    addKillFeed('Enemy' + Math.floor(Math.random() * 100), 'Enemy' + Math.floor(Math.random() * 100), 'AR');
                }
            }
            
            // Check win condition
            if (gameState.alive <= 1) {
                endGame(true);
            }
            
            updateHUD();
        }
        
        function endGame(victory) {
            gameState.inGame = false;
            gameState.gameMode = 'menu';
            
            if (victory) {
                showModal('gameOverModal');
                // Add rewards
                gameState.coins += 500;
                gameState.diamonds += 25;
            }
        }
        
        // Input Handling
        let keys = {};
        
        document.addEventListener('keydown', (e) => {
            keys[e.key.toLowerCase()] = true;
            
            if (e.key === 'Escape') {
                if (gameState.inGame) {
                    showModal('mainMenu');
                } else {
                    hideAllModals();
                }
            }
        });
        
        document.addEventListener('keyup', (e) => {
            keys[e.key.toLowerCase()] = false;
        });
        
        canvas.addEventListener('click', (e) => {
            if (gameState.inGame) {
                const rect = canvas.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;
                
                // Create bullet
                const angle = Math.atan2(mouseY - canvas.height / 2, mouseX - canvas.width / 2);
                const speed = 10;
                
                gameState.bullets.push({
                    x: gameState.playerX,
                    y: gameState.playerY,
                    vx: Math.cos(angle) * speed,
                    vy: Math.sin(angle) * speed
                });
                
                // Create muzzle flash particles
                for (let i = 0; i < 5; i++) {
                    gameState.particles.push({
                        x: gameState.playerX,
                        y: gameState.playerY,
                        vx: (Math.random() - 0.5) * 5,
                        vy: (Math.random() - 0.5) * 5,
                        size: Math.random() * 5 + 2,
                        alpha: 1
                    });
                }
                
                // Check for hits
                gameState.enemies.forEach((enemy, index) => {
                    if (enemy.alive) {
                        const dist = Math.sqrt((mouseX - enemy.x) ** 2 + (mouseY - enemy.y) ** 2);
                        if (dist < 50) { // Hit detection
                            enemy.alive = false;
                            gameState.kills++;
                            gameState.alive--;
                            addKillFeed('You', 'Enemy' + index, 'AR');
                        }
                    }
                });
            }
        });
        
        // Movement
        function handleMovement() {
            if (!gameState.inGame) return;
            
            const speed = 3;
            
            if (keys['w'] || keys['arrowup']) {
                gameState.playerY = Math.max(15, gameState.playerY - speed);
            }
            if (keys['s'] || keys['arrowdown']) {
                gameState.playerY = Math.min(canvas.height - 15, gameState.playerY + speed);
            }
            if (keys['a'] || keys['arrowleft']) {
                gameState.playerX = Math.max(15, gameState.playerX - speed);
            }
            if (keys['d'] || keys['arrowright']) {
                gameState.playerX = Math.min(canvas.width - 15, gameState.playerX + speed);
            }
        }
        
        // Game Loop
        function gameLoop() {
            handleMovement();
            updateGame();
            drawGame();
            
            if (gameState.gameMode === 'playing') {
                requestAnimationFrame(gameLoop);
            }
        }
        
        // Initialize
        showModal('mainMenu');
        
        // Add some demo kill feeds
        setTimeout(() => {
            addKillFeed('ProSniper', 'NoobPlayer', 'Sniper');
        }, 2000);
        
        setTimeout(() => {
            addKillFeed('RushMaster', 'CampKing', 'Shotgun');
        }, 4000);
        
        setTimeout(() => {
            addKillFeed('StormWarrior', 'LootGoblin', 'AR');
        }, 6000);
    </script>
</body>
</html>
